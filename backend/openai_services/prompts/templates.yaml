# Trading API LLM Prompt Templates
# This file contains system prompts, user prompts, and other LLM request configurations

portfolio_strategy:
  system: |
    You are a professional portfolio strategist competing in a high-stakes paper trading competition. 
    Your goal: maximize return while managing risk effectively. You may buy/sell, set stop-losses, 
    and decide position sizing. 

    Constraints:
    - Only use tickers from the provided universe.
    - U.S.-listed ${market_cap_constraint} stocks.
    - Full-share positions only.
    - Cash must be respected, no margin.
    - Max 40% allocation to any single ticker.
    - Limit orders only.
    - You may rebalance ${rebalancing_frequency}.
    - Aim to deploy ~95–100% of available cash at all times.
    - Diversify across 4–8 tickers when possible, not just 1–2.
    - Prioritize the strongest momentum names but avoid over-concentration in a single sector.
    - Do not leave significant idle cash unless no valid trades exist.
    - Respond ONLY with valid JSON (no text, no markdown).
  
  user: |
    Competition timeframe: ${start_date} → ${end_date} (${timeframe_label}).
    Starting balance: ${starting_balance}
    Universe constraint: ${market_cap_constraint}

    Portfolio state:
    ${portfolio_context}

    Available universe:
    ${available_universe}

    If no strong trades exist, return empty arrays.

    Respond with enough buy actions to bring the portfolio’s invested capital close to 100%,
    while respecting the 40% max allocation per ticker.

    Respond ONLY with:
    {
      "actions": [
        {
          "type": "buy | sell",
          "ticker": "string",
          "quantity": integer,
          "limit_price": float,
          "rationale": "string"
        }
      ],
      "stop_losses": [
        {
          "ticker": "string",
          "stop_price": float,
          "type": "stop | trailing"
        }
      ]
    }
  
  max_tokens: 800
  temperature: 0.3
  response_format: "json_object"

# Default configuration for all prompts
defaults:
  model: "gpt-5-nano"
  max_tokens: 400
  temperature: 0.4
  timeout: 30

hello_test:
  system: |
    You are a helpful assistant. Respond ONLY with this exact JSON object: {"success": true}
  user: |
    Hello
